â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ESPN4CC4C STICKY LANES & FILTER CHANGES                         â•‘
â•‘                        Quick Reference Card                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ THE PROBLEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Changed filters but events still showing up? That's the sticky lane system! â”‚
â”‚ It keeps events on the same channels for continuity (~6 hours).             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SOLUTION #1: QUICK REPLAN (Recommended) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Use --force-replan flag after changing filters:                             â”‚
â”‚                                                                              â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3 \                        â”‚
â”‚       --valid-hours 72 --force-replan                                       â”‚
â”‚                                                                              â”‚
â”‚ âœ“ Quick (one command)                                                       â”‚
â”‚ âœ“ Safe (temporary override)                                                 â”‚
â”‚ âœ“ Filters apply immediately                                                 â”‚
â”‚ âœ“ Next refresh returns to normal sticky behavior                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SOLUTION #2: NUCLEAR CLEAR (Complete Reset) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Use clear_sticky.py for complete fresh start:                               â”‚
â”‚                                                                              â”‚
â”‚   # Preview what will be cleared                                            â”‚
â”‚   $ python3 bin/clear_sticky.py --db data/db.sqlite3 --dry-run              â”‚
â”‚                                                                              â”‚
â”‚   # Actually clear sticky assignments                                       â”‚
â”‚   $ python3 bin/clear_sticky.py --db data/db.sqlite3                        â”‚
â”‚                                                                              â”‚
â”‚   # Rebuild plan from scratch                                               â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3 --valid-hours 72         â”‚
â”‚                                                                              â”‚
â”‚ âœ“ Complete reset                                                            â”‚
â”‚ âœ“ Good for major filter changes                                             â”‚
â”‚ âœ“ Safe (just clears cache)                                                  â”‚
â”‚ âœ“ Sticky system rebuilds from scratch                                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ WHEN TO USE WHICH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Use --force-replan when:                                                    â”‚
â”‚   â€¢ Changed one or two filter settings                                      â”‚
â”‚   â€¢ Want quick results                                                      â”‚
â”‚   â€¢ Making temporary test changes                                           â”‚
â”‚                                                                              â”‚
â”‚ Use clear_sticky.py when:                                                   â”‚
â”‚   â€¢ Making major filter overhaul                                            â”‚
â”‚   â€¢ Want complete reorganization                                            â”‚
â”‚   â€¢ Troubleshooting assignment issues                                       â”‚
â”‚   â€¢ Starting fresh after testing                                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ COMMON SCENARIOS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Scenario: Enabled "exclude_reair = true"                                    â”‚
â”‚   $ nano filters.ini                                                        â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3 --force-replan           â”‚
â”‚                                                                              â”‚
â”‚ Scenario: Changed multiple filter settings                                  â”‚
â”‚   $ nano filters.ini                                                        â”‚
â”‚   $ python3 bin/clear_sticky.py --db data/db.sqlite3                        â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3                          â”‚
â”‚                                                                              â”‚
â”‚ Scenario: Testing different filters                                         â”‚
â”‚   $ nano filters.ini     # Test config #1                                   â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3 --force-replan           â”‚
â”‚   $ nano filters.ini     # Test config #2                                   â”‚
â”‚   $ python3 bin/build_plan.py --db data/db.sqlite3 --force-replan           â”‚
â”‚   # Once happy, run normally (no flag)                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ WHAT STICKY LANES DO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ The event_lane table tracks event â†’ channel assignments:                    â”‚
â”‚                                                                              â”‚
â”‚   event_lane                                                                â”‚
â”‚   â”œâ”€ event_id: "espn-watch:12345..."                                        â”‚
â”‚   â”œâ”€ channel_id: 5                                                          â”‚
â”‚   â”œâ”€ pinned_at_utc: timestamp                                               â”‚
â”‚   â””â”€ last_seen_utc: timestamp                                               â”‚
â”‚                                                                              â”‚
â”‚ On refresh, build_plan tries to keep events on same channels.               â”‚
â”‚ This provides consistency and avoids "channel shuffling".                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ HOW --force-replan WORKS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Normal refresh:                                                             â”‚
â”‚   1. Load filters                                                           â”‚
â”‚   2. Load events passing filters                                            â”‚
â”‚   3. Load sticky map from event_lane â† keeps old assignments                â”‚
â”‚   4. Assign events (respecting sticky)                                      â”‚
â”‚                                                                              â”‚
â”‚ With --force-replan:                                                        â”‚
â”‚   1. Load filters                                                           â”‚
â”‚   2. Load events passing filters                                            â”‚
â”‚   3. Skip sticky map (empty) â† ignores old assignments                      â”‚
â”‚   4. Assign events fresh                                                    â”‚
â”‚                                                                              â”‚
â”‚ Result: Filters apply immediately, all events get new channel assignments.  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ HOW clear_sticky.py WORKS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ What it does:                                                               â”‚
â”‚   DELETE FROM event_lane;                                                   â”‚
â”‚                                                                              â”‚
â”‚ That's it! Simple but effective.                                            â”‚
â”‚                                                                              â”‚
â”‚ After clearing:                                                             â”‚
â”‚   â€¢ Next build_plan starts with empty sticky map                            â”‚
â”‚   â€¢ All events assigned fresh                                               â”‚
â”‚   â€¢ New assignments saved to event_lane                                     â”‚
â”‚   â€¢ Sticky system rebuilds naturally over time                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ TROUBLESHOOTING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Q: Used --force-replan but filters still not working?                       â”‚
â”‚ A: Check filters.ini syntax:                                                â”‚
â”‚    $ python3 bin/filter_events.py data/db.sqlite3 filters.ini               â”‚
â”‚                                                                              â”‚
â”‚ Q: Channels shuffle on every refresh?                                       â”‚
â”‚ A: Stop using --force-replan! Only use it once after filter changes.        â”‚
â”‚                                                                              â”‚
â”‚ Q: Want to see current sticky assignments?                                  â”‚
â”‚ A: $ sqlite3 data/db.sqlite3 "SELECT * FROM event_lane LIMIT 20"            â”‚
â”‚                                                                              â”‚
â”‚ Q: Can I automate --force-replan?                                           â”‚
â”‚ A: Yes! Use it in scripts after filter updates. But don't use every time.   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ BEST PRACTICES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ âœ“ Preview with --dry-run before using clear_sticky.py                       â”‚
â”‚ âœ“ Use --force-replan for single filter changes                              â”‚
â”‚ âœ“ Use clear_sticky.py for major reorganizations                             â”‚
â”‚ âœ“ Schedule major changes during low-traffic times                           â”‚
â”‚ âœ“ Test filter changes in dev environment first                              â”‚
â”‚ âœ“ Document why assignments changed (for your team)                          â”‚
â”‚ âœ— Don't use --force-replan on every refresh                                 â”‚
â”‚ âœ— Don't clear sticky unnecessarily                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ DECISION TREE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚ Changed filters?                                                            â”‚
â”‚   â””â”€ Yes â†’ Did you change 1-2 settings?                                     â”‚
â”‚       â”œâ”€ Yes â†’ Use --force-replan                                           â”‚
â”‚       â””â”€ No (major changes) â†’ Use clear_sticky.py                           â”‚
â”‚                                                                              â”‚
â”‚ Want to reorganize channels?                                                â”‚
â”‚   â””â”€ Use clear_sticky.py                                                    â”‚
â”‚                                                                              â”‚
â”‚ Normal refresh (no changes)?                                                â”‚
â”‚   â””â”€ No flags needed! Just run build_plan.py normally                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ’¡ TIP: After changing filters, use --force-replan once. Next refresh      â•‘
â•‘      runs normally and maintains the new filtered content with stickiness!  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For detailed guide, see: FILTER_CHANGES_GUIDE.md
